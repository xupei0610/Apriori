## Introduction

This is an implementation of Apriori algorithm using Hash Tree. 

This program is created originally for Project 1 of CSCI 5523 Introduction to Data Mining. 

The program has been fully tested under Mac OS X platform. You can simply use the command _*make*_ to generate the executable file.

However, the program uses multithreading, and thus may cause some troubles when compiled on Linux (or/and Windows) due to the bug of g++ (especially for the version 4.8.1). You may try to run the following command directly if some troubles arised by _*std::thread*_:

    g++ -Wl,--no-as-needed -pthread -std=c++11 -g main.cc apriori.cc hashTree.cc transTree.cc itemTree.cc -o hcrminer

## About the Apriori Program

The generated executable file accept six paramters. They have the following format:

    hcrminer min_support min_confidence data_file result_file hash_range max_leaf_size

The parameters _*min_support*_ and _*min_confidence*_ are two numbers representing the minimum support and confidence respectively, when _*min_confidence*_ is set to be -1, it means only frequent itemsets will be mined. Otherwise, associated rules will be mined accroding to the minimum confidence.

The parameter _*hash_range*_ is the range of generated hash keys. It is an integer.

The parameter _*max_leaf_size*_ is the limit of the maximum size of each bucket (leaft node) in the hash tree.

The parameters _*data_file*_ and _*result_file*_ respectively are the database file and the log file generated by the program.

Three databases are provided. They are the files _*large*_, _*inter*_ and _*small*_. Each line of these files record an item involved with a transaction. It has the format:

    TransactionID ItemID
    TransactionID ItemID
    ...

The _*main*_ file is responsible for reading the database.

And, the program uses MIT license.

## About the Test Result

All the test results in the _MiningResult_ folder are generated according to the requirement of the project. Each line has the following shape:

    LHS|RHS|sup|conf

An example is like:

    {1,2}|{3}|15|0.98

It means that the rule _{1,2}=>{3}_ has support 15 and confidence 0.98.

*No redundant rules are filtered* so that there may be a little difference between the rules the program obtained to those obtained via other software like arules, weka.

Besides, the first 8 lines of each log file generated record the parameter information of this test, including minimum support, minimum confidence, hash function range  and maximum leaf size. Due to the huge amount of generated rules and frequent itemsets under some cases, the program will write log file while doing the mining work. After mining work completes, the program will write 2 more lines into the tail of the log file to record the time taken by this mining work.

Some log file generated are quite large during my test. For instance, 4.64GB for the case where _large_ database is mining and the minimum support is set to be 30 and the minimum confidence is set to be 0.8. Therefore, only some small log files generated are put into the _MiningResult_ folder.

## Finally

Contact me if you have any question.

Pei Xu, xuxx0884@umn.edu
